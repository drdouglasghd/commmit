<html ng-app="myApp">
<head>
	<meta charset="UTF-8">
	<title>Commmit App by drdouglasghd</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
	<script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
	<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
	<link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
	<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

</head>

<body ng-controller="MyController">
	<section class="page-header">
		<h1 class="project-name">Commmit App</h1>
		<h2 class="project-tagline">It Tastes good to Commmit</h2>
		<div class="example-chat-toolbar">
			<label for="nameInput">Username:</label>
			<input ng-model="name" type="text" id="nameInput" placeholder="enter a username..." style="color:black;">
			<input ng-model="msg" ng-keydown="addMessage($event)" type="text" id="messageInput"  placeholder="Type a message..." style="color:black;">
		</div>
	</section>

	<section class="main-content">

		<ul id="example-messages" class="example-chat-messages">
			<li ng-repeat="msg in messages">
				<strong class="example-chat-username">{{ msg.from }}</strong>
				{{ msg.body }}
			</li>
		</ul>


		<footer class="site-footer">
			<span class="site-footer-owner"><a href="https://github.com/drdouglasghd/commmit">Commmit App</a> is maintained by <a href="https://github.com/drdouglasghd">drdouglasghd</a>.</span>

			<span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
		</footer>

	</section>

	<script>
	var myApp = angular.module("myApp", ["firebase"]);

	myApp.controller("MyController", ["$scope", "$firebaseArray",
		function($scope, $firebaseArray) {
			var ref = new Firebase("https://crackling-fire-3099.firebaseio.com/");
			$scope.messages = $firebaseArray(ref);

          //ADD MESSAGE METHOD
          $scope.addMessage = function(e) {

            //LISTEN FOR RETURN KEY
            if (e.keyCode === 13 && $scope.msg) {
              //ALLOW CUSTOM OR ANONYMOUS USER NAMES
              var name = $scope.name || "anonymous";
              $scope.messages.$add({ from: name, body: $scope.msg });
              //RESET MESSAGE
              $scope.msg = "";
          }
      }
  }
  ]);
	</script>


</body>
</html>